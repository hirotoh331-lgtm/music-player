<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Music Player</title>
    <link rel="stylesheet" href="style.css">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a1a1a">
</head>
<body>

    <div class="player-container">
        <h2 id="song-title">æ›²ã‚’é¸æŠã—ã¦ãã ã•ã„</h2>
        
        <div class="controls">
            <button id="loop-btn" class="btn-small">ğŸ” OFF</button>
            <button id="play-btn" class="btn-large" disabled>â–¶ï¸</button>
        </div>
        
        <div id="playlist" class="playlist-container"></div>
        
        <div class="file-input-wrapper">
            <label for="file-input" class="add-music-btn">â• æ›²ã‚’è¿½åŠ ä¿å­˜</label>
            <input type="file" id="file-input" accept="audio/*" style="display: none;">
        </div>

        <div style="margin-top: 20px; border-top: 1px solid #555; padding-top: 10px;">
            <h3 style="font-size: 1rem; margin: 0 0 10px 0;">ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h3>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button onclick="createNewPlaylist(prompt('ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆåã‚’å…¥åŠ›:'))" class="btn-small" style="width:auto; border-radius:5px; padding:5px 15px; font-size: 12px;">
                    æ–°è¦ä½œæˆ
                </button>
                <button onclick="showAllPlaylists()" class="btn-small" style="width:auto; border-radius:5px; padding:5px 15px; font-size: 12px;">
                    ä¸€è¦§ç¢ºèª(ã‚³ãƒ³ã‚½ãƒ¼ãƒ«)
                </button>
            </div>
        </div>
        <audio id="audio-player"></audio>
    </div>

    <script src="main.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js').then(function(registration) {
                    console.log('ServiceWorkerç™»éŒ²æˆåŠŸ:', registration.scope);
                }, function(err) {
                    console.log('ServiceWorkerç™»éŒ²å¤±æ•—:', err);
                });
            });
        }
    </script>
</body>
</html>